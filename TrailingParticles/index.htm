<!DOCTYPE>
<head>
<title>Particles</title>
<style>
  body{margin: 0; padding: 0;
  width: 100%; height: 100%;
  overflow: hidden;
  background: #171819;
  }
</style>
</head>
<body>
	<canvas id="canvas"></canvas>
    <script src="http://code.jquery.com/jquery-1.8.0.min.js"></script>
	<script>
	
		// requestAnim shim layer by Paul Irish
		window.requestAnimFrame = (function(){
		  return  window.requestAnimationFrame       || 
				  window.webkitRequestAnimationFrame || 
				  window.mozRequestAnimationFrame    || 
				  window.oRequestAnimationFrame      || 
				  window.msRequestAnimationFrame     || 
				  function(/* function */ callback, /* DOMElement */ element){
					window.setTimeout(callback, 1000 / 60);
				  };
		})();
	
	
	    var canvas = document.getElementById('canvas');
		var ctx = canvas.getContext('2d');
		var screen_width = window.innerWidth;
		var screen_height = window.innerHeight;
		var particles = [];
		var mLoc = {};
		
		//Set canvas to the browser screen size
		canvas.width = screen_width;
		canvas.height = screen_height;

		
		//Binding mousemove event on body and tracked/save the mouse location to an obj
		$(document).mousemove(setMouseLoc);
		
		function setMouseLoc(e){
				mLoc.x = e.pageX;
				mLoc.y = e.pageY;
		} 


		// Repaint the canvas with updated particle properties
		function rePaint(){
			ctx.clearRect(0,0,screen_width, screen_height);
			for(var i=0; i< particles.length; i++){
				var particle = particles[i];
				particle.x = mLoc.x;
				particle.y = mLoc.y;
				particle.draw();	
			}
		}

		
		//Object for each particle
		var Particle = {
				x : screen_width/2,
				y : screen_height/2,
				speed : 0.5,
				x_target: '',
				y_target: '',
				radius : 10
		};
		
		// Particle method for drawing circle	
		Particle.draw = function(){
			ctx.beginPath();
			ctx.fillStyle = "#ffffff";
			ctx.arc(this.x, this.y, this.radius, 0, Math.PI*2, false);
			ctx.closePath();
			ctx.fill();
		}
		
		// Method for creating a particle.
		function createParticle(x,y){
			var newParticle = Object.create(Particle);
			particles.push(newParticle);
		}


		// Create a initial particle.
		createParticle();



		function animate() {
			requestAnimFrame( animate );
			rePaint();
		}
		animate();
		
		
		
    </script>
</body>
</html>
